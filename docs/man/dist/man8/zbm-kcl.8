.\" Man page generated from reStructuredText.
.
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.TH "ZBM-KCL" "8" "2022-12-19" "" "ZFSBootMenu"
.SH NAME
zbm-kcl \- manipulate kernel command lines for ZFS boot environments
.SH SYNOPSIS
.sp
\fBzbm\-kcl\fP [OPTION]... [FILESYSTEM]
.SH DESCRIPTION
.sp
The \fBzbm\-kcl\fP utility allows review and manipulation of the \fIorg.zfsbootmenu:commandline\fP property on ZFS filesystems. ZFSBootMenu reads this property, as set or inherited on each environment that it recognizes, to set the command line for the kernel that it boots.
.sp
When a filesystem is not specified, \fBzbm\-kcl\fP will attempt to determine the root filesystem and operate on that.
.sp
With no options specified, \fBzbm\-kcl\fP will print the current value of \fIorg.zfsbootmenu:commandline\fP on the selected filesystem and exit.
.SH OPTIONS
.sp
\fB\-a\fP \fIargument\fP
.INDENT 0.0
.INDENT 3.5
Append the value of \fIargument\fP to the kernel command line. The value of \fIargument\fP can be a simple variable name for Boolean arguments or may take the form \fIvar=value\fP to provide a non\-Boolean value. If \fIvalue\fP contains spaces, it may be surrounded by double quotes. In that case, surround the argument in single quotes to ensure that the double quotes are recorded in the property:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
zbm\-kcl \-a \(aqvariable=\(dqsome argument with spaces\(dq\(aq
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
This argument may be repeated any number of times.
.UNINDENT
.UNINDENT
.sp
\fB\-r\fP \fIargument\fP
.INDENT 0.0
.INDENT 3.5
Remove \fIargument\fP from the kernel command line. The value of \fIargument\fP can be a simple variable name, in which case all arguments of the form \fIargument\fP or \fIargument=<arbitrary\-value>\fP will be stripped. Alternatively, a specific argument may be selected by specifying \fIargument=<specific\-value>\fP\&.
.sp
This argument may be repeated any number of times.
.sp
\fBNOTE:\fP
.INDENT 0.0
.INDENT 3.5
All removal options are processed \fIbefore\fP any append options are processed, making it possible to replace an existing argument by combining removal and append options into a single invocation of \fBzbm\-kcl\fP\&.
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.sp
\fB\-e\fP
.INDENT 0.0
.INDENT 3.5
Open the contents of the command\-line property in an interactive editor. If the environment defines \fI$EDITOR\fP, that will be used; otherwise, \fBvi\fP will be used by default. After making changes as desired, overwrite the (temporary) file that was opened and quit the editor. If the contents of the command\-line property appear to have changed, \fBzbm\-kcl\fP will apply those changes.
.UNINDENT
.UNINDENT
.sp
\fB\-d\fP
.INDENT 0.0
.INDENT 3.5
Delete the command\-line property by calling
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
zfs inherit org.zfsbootmenu:commandline <filesystem>
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
This allows the boot environment to inherit any command\-line property that may be defined by some parent.
.UNINDENT
.UNINDENT
.sp
\fB\-v\fP
.INDENT 0.0
.INDENT 3.5
Increase the verbosity of \fBzbm\-kcl\fP as it operates. This may be specified up to three times.
.UNINDENT
.UNINDENT
.SH EXAMPLES
.sp
Change the \fIloglevel\fP value on the currently booted environment by removing any existing value from the command line and appending the desired argument:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
zbm\-kcl \-a loglevel=7 \-r loglevel
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Delete the entire command line from the \fIzroot/ROOT/void\fP boot environment, allowing it to inherit a command line set at \fIzroot\fP or \fIzroot/ROOT\fP if either of these defines a value:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
zbm\-kcl \-d zroot/ROOT/void
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Allow interactive editing of the command line on the \fIzroot/ROOT\fP filesystem:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
zbm\-kcl \-e zroot/ROOT
.ft P
.fi
.UNINDENT
.UNINDENT
.SH SEE ALSO
.sp
\fI\%zfsbootmenu(7)\fP
.SH AUTHOR
ZFSBootMenu Team <https://github.com/zbm-dev/zfsbootmenu>
.SH COPYRIGHT
2019, Zach Dykstra
.\" Generated by docutils manpage writer.
.
